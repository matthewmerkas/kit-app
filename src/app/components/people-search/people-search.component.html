<ion-modal
  #modal
  [breakpoints]="[0, 0.5, 0.9]"
  handleBehavior="cycle"
  [initialBreakpoint]="0.5"
  (willPresent)="onWillPresent()"
  [showBackdrop]="false"
  [trigger]="trigger"
>
  <ng-template>
    <ion-content class="new-message-modal" [scrollY]="false">
      <div class="shade"></div>
      <ion-searchbar
        [formControl]="searchForm"
        (ionFocus)="onFocus()"
        placeholder="Search people"
      ></ion-searchbar>
      <ion-list>
        <ion-item
          (click)="onClick(user); _onClick(user)"
          *ngFor="let user of users"
        >
          <app-avatar
            [fileName]="user.avatarFileName"
            [size]="platform.is('ios') ? 36 : 40"
            slot="start"
          ></app-avatar>
          <ion-label>
            <h2>{{ user.nickname || user.displayName }}</h2>
            <p>@{{ user.username }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
